<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Latihan Soal Bahasa Arab Kelas 4 - Tempat Tinggal</title>
    
    <!-- React & Tailwind -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Comic+Neue:wght@400;700&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    
    <style>
        body { 
            font-family: 'Poppins', sans-serif; 
            background-color: #f0fdfa; /* Teal-50 */
            /* Pola background titik-titik halus */
            background-image: radial-gradient(#99f6e4 1px, transparent 1px);
            background-size: 20px 20px;
            -webkit-tap-highlight-color: transparent; 
        }
        h1, h2, h3 { font-family: 'Comic Neue', cursive; }
        
        /* Font Arab Khusus */
        .ar { font-family: 'Amiri', serif; direction: rtl; line-height: 2.2; font-size: 1.6rem; color: #0f766e; }
        .ar-sm { font-family: 'Amiri', serif; direction: rtl; line-height: 1.8; font-size: 1.2rem; }
        
        .glass-panel { background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); border: 4px solid #5eead4; box-shadow: 8px 8px 0px #14b8a6; border-radius: 1.5rem; }
        .btn-fun { transition: transform 0.1s, border-bottom 0.1s; border-bottom: 4px solid; }
        .btn-fun:active { transform: translateY(4px); border-bottom: 0px; }
        
        /* Loading Animation */
        .loader { border: 6px solid #f3f3f3; border-top: 6px solid #0d9488; border-radius: 50%; width: 50px; height: 50px; animation: spin 1s linear infinite; margin: 20px auto; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        
        .safe-bottom { padding-bottom: env(safe-area-inset-bottom); }
    </style>
</head>
<body>
    <div id="root">
        <div style="text-align: center; padding-top: 100px;">
            <div class="loader"></div>
            <h3 style="color: #0f766e; font-weight: bold;">Memuat Soal Bahasa Arab...</h3>
            <p style="color: #888; font-size: 12px;">Bimbel Musafir One</p>
        </div>
    </div>

    <script>
        window.onerror = function(message, source, lineno, colno, error) {
            const root = document.getElementById('root');
            root.innerHTML = '<div style="padding:20px; text-align:center; color:red;"><h3>Terjadi Kesalahan</h3><p>'+message+'</p><button onclick="window.location.reload()" style="padding:10px; margin-top:10px; border:1px solid #ccc; background:#eee;">Muat Ulang</button></div>';
        };
    </script>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- DATA SOAL PAKET A (40 SOAL) ---
        const paketA = [
            // Kosakata Dasar (1-10)
            { id: 1, text: "Bahasa Arab dari kata 'Pohon' adalah...", options: { A: "Ø¨ÙØ±Ù’ÙƒÙØ©ÙŒ (Birkatun)", B: "Ø´ÙØ¬ÙØ±ÙØ©ÙŒ (Syajaratun)", C: "Ø³ÙØ§Ø­ÙØ©ÙŒ (Sahatun)", D: "Ø£ÙØ±ÙÙŠÙ’ÙƒÙØ©ÙŒ (Arikatun)" }, answer: "B", discussion: "Syajaratun = Pohon." },
            { id: 2, text: "Arti kata <span class='ar'>Ù…ÙØ·Ù’Ø¨ÙØ®ÙŒ</span> (Matbakhun) adalah...", options: { A: "Dapur", B: "Kamar Tidur", C: "Kamar Mandi", D: "Ruang Tamu" }, answer: "A", discussion: "Matbakhun = Dapur." },
            { id: 3, text: "Bahasa Arab dari 'Kamar Mandi' adalah...", options: { A: "Ø­ÙØ¬Ù’Ø±ÙØ©ÙŒ", B: "Ù…ÙØ·Ù’Ø¨ÙØ®ÙŒ", C: "Ø­ÙÙ…Ù‘ÙØ§Ù…ÙŒ (Hammamun)", D: "Ø¨ÙØ³Ù’ØªÙØ§Ù†ÙŒ" }, answer: "C", discussion: "Hammamun = Kamar Mandi." },
            { id: 4, text: "Kata <span class='ar'>Ø¨ÙØ³Ù’ØªÙØ§Ù†ÙŒ</span> (Bustanun) artinya...", options: { A: "Sekolah", B: "Rumah", C: "Kebun", D: "Kelas" }, answer: "C", discussion: "Bustanun = Kebun." },
            { id: 5, text: "Bahasa Arab 'Halaman' adalah...", options: { A: "Ø³ÙØ§Ø­ÙØ©ÙŒ (Sahatun)", B: "Ø´ÙØ¬ÙØ±ÙØ©ÙŒ", C: "Ø¨ÙØ±Ù’ÙƒÙØ©ÙŒ", D: "ÙÙØµÙ’Ù„ÙŒ" }, answer: "A", discussion: "Sahatun = Halaman." },
            { id: 6, text: "Arti kata <span class='ar'>Ø¨ÙØ±Ù’ÙƒÙØ©ÙŒ</span> (Birkatun) adalah...", options: { A: "Sungai", B: "Laut", C: "Kolam", D: "Sumur" }, answer: "C", discussion: "Birkatun = Kolam." },
            { id: 7, text: "Bahasa Arab 'Rumah' adalah...", options: { A: "Ù…ÙØ¯Ù’Ø±ÙØ³ÙØ©ÙŒ", B: "Ø¨ÙÙŠÙ’ØªÙŒ (Baitun)", C: "Ù…ÙØ³Ù’Ø¬ÙØ¯ÙŒ", D: "ÙÙØµÙ’Ù„ÙŒ" }, answer: "B", discussion: "Baitun = Rumah." },
            { id: 8, text: "Kata <span class='ar'>Ø­ÙØ¬Ù’Ø±ÙØ©ÙŒ</span> (Hujratun) artinya...", options: { A: "Kamar / Ruangan", B: "Atap", C: "Lantai", D: "Pintu" }, answer: "A", discussion: "Hujratun = Kamar." },
            { id: 9, text: "Bahasa Arab 'Sekolah' adalah...", options: { A: "Ù…ÙØ¯Ù’Ø±ÙØ³ÙØ©ÙŒ (Madrasatun)", B: "Ù…ÙÙƒÙ’ØªÙØ¨ÙŒ", C: "ÙƒÙØ±Ù’Ø³ÙÙŠÙ‘ÙŒ", D: "Ø³ÙØ¨Ù‘ÙÙˆÙ’Ø±ÙØ©ÙŒ" }, answer: "A", discussion: "Madrasatun = Sekolah." },
            { id: 10, text: "Bahasa Arab 'Kelas' adalah...", options: { A: "ÙÙØµÙ’Ù„ÙŒ (Fashlun)", B: "Ù…ÙØ³Ù’Ø¬ÙØ¯ÙŒ", C: "Ø¨ÙÙŠÙ’ØªÙŒ", D: "Ø­ÙÙ…Ù‘ÙØ§Ù…ÙŒ" }, answer: "A", discussion: "Fashlun = Kelas." },

            // Kata Sifat (11-15)
            { id: 11, text: "Arti kata <span class='ar'>ÙˆÙØ§Ø³ÙØ¹ÙØ©ÙŒ</span> (Wasi'atun) adalah...", options: { A: "Kecil", B: "Luas", C: "Sempit", D: "Tinggi" }, answer: "B", discussion: "Wasi'un/Wasi'atun = Luas." },
            { id: 12, text: "Bahasa Arab 'Besar' adalah...", options: { A: "ØµÙØºÙÙŠÙ’Ø±ÙŒ", B: "Ø¬ÙÙ…ÙÙŠÙ’Ù„ÙŒ", C: "ÙƒÙØ¨ÙÙŠÙ’Ø±ÙŒ (Kabirun)", D: "Ù†ÙØ¸ÙÙŠÙ’ÙÙŒ" }, answer: "C", discussion: "Kabirun = Besar." },
            { id: 13, text: "Kata <span class='ar'>Ø¬ÙÙ…ÙÙŠÙ’Ù„ÙŒ</span> (Jamilun) artinya...", options: { A: "Indah / Bagus", B: "Jelek", C: "Kotor", D: "Rusak" }, answer: "A", discussion: "Jamilun = Indah." },
            { id: 14, text: "Bahasa Arab 'Banyak' (seperti dalam 'ikan yang banyak') adalah...", options: { A: "Ù‚ÙÙ„ÙÙŠÙ’Ù„ÙŒ", B: "ÙƒÙØ«ÙÙŠÙ’Ø±ÙŒ (Katsirun)", C: "ÙƒÙØ¨ÙÙŠÙ’Ø±ÙŒ", D: "ÙˆÙØ§Ø³ÙØ¹ÙŒ" }, answer: "B", discussion: "Katsirun = Banyak." },
            { id: 15, text: "Lawan kata dari 'Kabirun' (Besar) adalah...", options: { A: "Wasi'un", B: "Shaghirun (ØµÙØºÙÙŠÙ’Ø±ÙŒ)", C: "Jamilun", D: "Thawilun" }, answer: "B", discussion: "Shaghirun = Kecil." },

            // Posisi / Zharaf Makan (16-25)
            { id: 16, text: "Arti kata <span class='ar'>Ø£ÙÙ…ÙØ§Ù…Ù</span> (Amama) adalah...", options: { A: "Di belakang", B: "Di depan", C: "Di samping", D: "Di dalam" }, answer: "B", discussion: "Amama = Di depan." },
            { id: 17, text: "Lawan kata 'Amama' (Di depan) adalah...", options: { A: "Fauqa", B: "Tahta", C: "Wara'a (ÙˆÙØ±ÙØ§Ø¡Ù)", D: "Janiba" }, answer: "C", discussion: "Wara'a = Di belakang." },
            { id: 18, text: "Arti kata <span class='ar'>Ø¬ÙØ§Ù†ÙØ¨Ù</span> (Janiba) adalah...", options: { A: "Di samping", B: "Di atas", C: "Di bawah", D: "Di antara" }, answer: "A", discussion: "Janiba = Di samping." },
            { id: 19, text: "Bahasa Arab 'Di dalam' adalah...", options: { A: "Ø¹ÙÙ„ÙÙ‰", B: "ÙÙÙŠ (Fi)", C: "ØªÙØ­Ù’ØªÙ", D: "ÙÙÙˆÙ’Ù‚Ù" }, answer: "B", discussion: "Fi = Di dalam." },
            { id: 20, text: "Bahasa Arab 'Di atas' (menempel pada benda) adalah...", options: { A: "ÙÙÙˆÙ’Ù‚Ù", B: "ØªÙØ­Ù’ØªÙ", C: "Ø¹ÙÙ„ÙÙ‰ ('Ala)", D: "Ø£ÙÙ…ÙØ§Ù…Ù" }, answer: "C", discussion: "'Ala = Di atas permukaan." },
            { id: 21, text: "Arti kata <span class='ar'>ØªÙØ­Ù’ØªÙ</span> (Tahta) adalah...", options: { A: "Di atas", B: "Di bawah", C: "Di samping", D: "Di depan" }, answer: "B", discussion: "Tahta = Di bawah." },
            { id: 22, text: "Kucing itu di bawah meja. <span class='ar'>Ø§Ù„Ù’Ù‚ÙØ·Ù‘Ù ... Ø§Ù„Ù’Ù…ÙÙƒÙ’ØªÙØ¨Ù</span>", options: { A: "ÙÙÙˆÙ’Ù‚Ù", B: "ØªÙØ­Ù’ØªÙ (Tahta)", C: "Ø¹ÙÙ„ÙÙ‰", D: "ÙÙÙŠ" }, answer: "B", discussion: "Tahta = Di bawah." },
            { id: 23, text: "Buku tulis itu di atas meja. <span class='ar'>Ø§Ù„Ù’ÙƒÙØ±Ù‘ÙØ§Ø³ÙØ©Ù ... Ø§Ù„Ù’Ù…ÙÙƒÙ’ØªÙØ¨Ù</span>", options: { A: "ÙÙÙŠ", B: "Ø¹ÙÙ„ÙÙ‰ ('Ala)", C: "ØªÙØ­Ù’ØªÙ", D: "ÙˆÙØ±ÙØ§Ø¡Ù" }, answer: "B", discussion: "'Ala = Di atas." },
            { id: 24, text: "Kebun itu di belakang sekolah. <span class='ar'>Ø§Ù„Ù’Ø¨ÙØ³Ù’ØªÙØ§Ù†Ù ... Ø§Ù„Ù’Ù…ÙØ¯Ù’Ø±ÙØ³ÙØ©Ù</span>", options: { A: "Ø£ÙÙ…ÙØ§Ù…Ù", B: "ÙˆÙØ±ÙØ§Ø¡Ù (Wara'a)", C: "Ø¬ÙØ§Ù†ÙØ¨Ù", D: "ÙÙÙŠ" }, answer: "B", discussion: "Wara'a = Di belakang." },
            { id: 25, text: "Di depan sekolah ada halaman. <span class='ar'>... Ø§Ù„Ù’Ù…ÙØ¯Ù’Ø±ÙØ³ÙØ©Ù Ø³ÙØ§Ø­ÙØ©ÙŒ</span>", options: { A: "Ø£ÙÙ…ÙØ§Ù…Ù (Amama)", B: "ÙˆÙØ±ÙØ§Ø¡Ù", C: "ÙÙÙŠ", D: "Ø¹ÙÙ„ÙÙ‰" }, answer: "A", discussion: "Amama = Di depan." },

            // Tata Bahasa (Isim Nakirah & Ma'rifat) (26-35)
            { id: 26, text: "Ciri Isim Nakirah (Kata Umum) adalah...", options: { A: "Diawali Alif Lam (Al)", B: "Diakhiri Tanwin", C: "Nama orang", D: "Diakhiri Sukun" }, answer: "B", discussion: "Nakirah bertanwin (un/an/in) dan tanpa Al." },
            { id: 27, text: "Ciri Isim Ma'rifat (Kata Khusus) adalah...", options: { A: "Diakhiri Tanwin", B: "Diawali Alif Lam (Al-)", C: "Tidak punya arti", D: "Selalu berharakat Fathah" }, answer: "B", discussion: "Ma'rifat diawali Al." },
            { id: 28, text: "Manakah yang termasuk Isim Nakirah?", options: { A: "Ø§Ù„Ù’Ø¨ÙÙŠÙ’ØªÙ", B: "Ø¨ÙÙŠÙ’ØªÙŒ (Baitun)", C: "Ø§Ù„Ù’Ù…ÙØ¯Ù’Ø±ÙØ³ÙØ©Ù", D: "Ø§Ù„Ù’ÙÙØµÙ’Ù„Ù" }, answer: "B", discussion: "Baitun (bertanwin)." },
            { id: 29, text: "Manakah yang termasuk Isim Ma'rifat?", options: { A: "Ù…ÙØ³Ù’Ø¬ÙØ¯ÙŒ", B: "Ø§Ù„Ù’Ù…ÙØ³Ù’Ø¬ÙØ¯Ù (Al-Masjidu)", C: "ÙÙØµÙ’Ù„ÙŒ", D: "Ø¨ÙØ³Ù’ØªÙØ§Ù†ÙŒ" }, answer: "B", discussion: "Al-Masjidu (Ada Al)." },
            { id: 30, text: "Kata <span class='ar'>Ù…ÙØ¯Ù’Ø±ÙØ³ÙØ©ÙŒ</span> jika diberi 'Al' menjadi...", options: { A: "Ø§Ù„Ù’Ù…ÙØ¯Ù’Ø±ÙØ³ÙØ©ÙŒ", B: "Ø§Ù„Ù’Ù…ÙØ¯Ù’Ø±ÙØ³ÙØ©Ù (Al-Madrasatu)", C: "Ù…ÙØ¯Ù’Ø±ÙØ³ÙØ©Ù", D: "Ø§Ù„Ù’Ù…ÙØ¯Ù’Ø±ÙØ³ÙØ©Ù" }, answer: "B", discussion: "Jika ada Al, tanwin hilang." },
            { id: 31, text: "Kata <span class='ar'>Ø¨ÙÙŠÙ’ØªÙŒ</span> artinya...", options: { A: "Rumah itu (khusus)", B: "Sebuah rumah (umum)", C: "Rumah saya", D: "Rumah kamu" }, answer: "B", discussion: "Nakirah = Sebuah (umum)." },
            { id: 32, text: "Kata <span class='ar'>Ø§Ù„Ù’ÙƒÙØªÙØ§Ø¨Ù</span> artinya...", options: { A: "Sebuah buku", B: "Buku itu / Buku ini (khusus)", C: "Buku tulis", D: "Kertas" }, answer: "B", discussion: "Ma'rifat = Benda tertentu." },
            { id: 33, text: "Ubah ke Ma'rifat: <span class='ar'>Ù‚ÙÙ„ÙÙ…ÙŒ</span> (Qolamun)", options: { A: "Ø§Ù„Ù‚ÙÙ„ÙÙ…ÙŒ", B: "Ø§Ù„Ù‚ÙÙ„ÙÙ…Ù (Al-Qolamu)", C: "Ù‚ÙÙ„ÙÙ…Ù", D: "Ø§Ù„Ù‚ÙÙ„ÙÙ…Ù" }, answer: "B", discussion: "Al-Qolamu." },
            { id: 34, text: "Ubah ke Nakirah: <span class='ar'>Ø§Ù„Ù’Ø­ÙÙ‚ÙÙŠÙ’Ø¨ÙØ©Ù</span> (Al-Haqibatu)", options: { A: "Ø­ÙÙ‚ÙÙŠÙ’Ø¨ÙØ©ÙŒ (Haqibatun)", B: "Ø§Ù„Ø­ÙÙ‚ÙÙŠÙ’Ø¨ÙØ©ÙŒ", C: "Ø­ÙÙ‚ÙÙŠÙ’Ø¨ÙØ©Ù", D: "Ø­ÙÙ‚ÙÙŠÙ’Ø¨ÙØ©Ù" }, answer: "A", discussion: "Haqibatun (Al hilang, tanwin kembali)." },
            { id: 35, text: "Kalimat yang benar adalah...", options: { A: "Ø§Ù„Ù’ÙƒÙØªÙØ§Ø¨ÙŒ Ø¹ÙÙ„ÙÙ‰ Ø§Ù„Ù’Ù…ÙÙƒÙ’ØªÙØ¨Ù", B: "Ø§Ù„Ù’ÙƒÙØªÙØ§Ø¨Ù Ø¹ÙÙ„ÙÙ‰ Ø§Ù„Ù’Ù…ÙÙƒÙ’ØªÙØ¨Ù", C: "ÙƒÙØªÙØ§Ø¨Ù Ø¹ÙÙ„ÙÙ‰ Ø§Ù„Ù’Ù…ÙÙƒÙ’ØªÙØ¨Ù", D: "Ø§Ù„Ù’ÙƒÙØªÙØ§Ø¨Ù Ø¹ÙÙ„ÙÙ‰ Ù…ÙÙƒÙ’ØªÙØ¨Ù" }, answer: "B", discussion: "Al-Kitabu 'ala Al-Maktabi." },

            // Pemahaman Teks (36-40)
            { id: 36, text: "<span class='ar'>ÙÙÙŠ Ø§Ù„Ù’Ø¨ÙØ³Ù’ØªÙØ§Ù†Ù Ø´ÙØ¬ÙØ±ÙØ©ÙŒ ÙˆÙ ...</span> (Di kebun ada pohon dan...)", options: { A: "Ø³ÙØ§Ø­ÙØ©ÙŒ", B: "Ø¨ÙØ±Ù’ÙƒÙØ©ÙŒ (Birkatun)", C: "ÙÙØµÙ’Ù„ÙŒ", D: "Ø¨ÙÙŠÙ’ØªÙŒ" }, answer: "B", discussion: "Sesuai teks: Pohon dan Kolam." },
            { id: 37, text: "<span class='ar'>Ø§Ù„Ù’Ø¨ÙÙŠÙ’ØªÙ ÙƒÙØ¨ÙÙŠØ±ÙŒ ÙˆÙ ...</span> (Rumah itu besar dan...)", options: { A: "ÙˆÙØ§Ø³ÙØ¹ÙŒ", B: "Ø¬ÙÙ…ÙÙŠÙ’Ù„ÙŒ (Jamilun)", C: "ØµÙØºÙÙŠÙ’Ø±ÙŒ", D: "Ù‚ÙØ¯ÙÙŠÙ’Ù…ÙŒ" }, answer: "B", discussion: "Sesuai teks: Besar dan Indah." },
            { id: 38, text: "<span class='ar'>ÙˆÙØ±ÙØ§Ø¡Ù Ø§Ù„Ù’Ø¨ÙÙŠÙ’ØªÙ Ø³ÙØ§Ø­ÙØ©ÙŒ ...</span> (Di belakang rumah ada halaman yang...)", options: { A: "ÙƒÙØ¨ÙÙŠØ±ÙØ©ÙŒ", B: "ÙˆÙØ§Ø³ÙØ¹ÙØ©ÙŒ (Wasi'atun)", C: "Ø¶ÙÙŠÙ‘ÙÙ‚ÙØ©ÙŒ", D: "ØµÙØºÙÙŠÙ’Ø±ÙØ©ÙŒ" }, answer: "B", discussion: "Halaman yang luas." },
            { id: 39, text: "Di dalam kolam ada... <span class='ar'>ÙÙÙŠ Ø§Ù„Ù’Ø¨ÙØ±ÙÙƒÙØ©Ù ...</span>", options: { A: "Ø·ÙØ§Ø¦ÙØ±ÙŒ", B: "Ø³ÙÙ…ÙÙƒÙŒ ÙƒÙØ«ÙÙŠÙ’Ø±ÙŒ (Samakun katsirun)", C: "Ù‚ÙØ·Ù‘ÙŒ", D: "Ø¯ÙØ¬ÙØ§Ø¬ÙŒ" }, answer: "B", discussion: "Ikan yang banyak." },
            { id: 40, text: "Apa yang ada di samping sekolah? <span class='ar'>Ø¬ÙØ§Ù†ÙØ¨Ù Ø§Ù„Ù’Ù…ÙØ¯Ù’Ø±ÙØ³ÙØ©Ù ...</span>", options: { A: "Ø¨ÙÙŠÙ’ØªÙŒ", B: "Ù…ÙØ³Ù’Ø¬ÙØ¯ÙŒ ÙƒÙØ¨ÙÙŠØ±ÙŒ (Masjidun kabirun)", C: "Ø¨ÙØ³Ù’ØªÙØ§Ù†ÙŒ", D: "Ø³ÙØ§Ø­ÙØ©ÙŒ" }, answer: "B", discussion: "Masjid besar." }
        ];

        // --- DATA SOAL PAKET B (40 SOAL - VARIASI) ---
        const paketB = [
            // Kosakata
            { id: 1, text: "Bahasa Arab 'Meja' adalah...", options: { A: "Ù…ÙÙƒÙ’ØªÙØ¨ÙŒ (Maktabun)", B: "ÙƒÙØ±Ù’Ø³ÙÙŠÙ‘ÙŒ", C: "Ø³ÙØ¨Ù‘ÙÙˆÙ’Ø±ÙØ©ÙŒ", D: "Ù‚ÙÙ„ÙÙ…ÙŒ" }, answer: "A", discussion: "Maktabun = Meja." },
            { id: 2, text: "Bahasa Arab 'Kursi' adalah...", options: { A: "Ù…ÙÙƒÙ’ØªÙØ¨ÙŒ", B: "ÙƒÙØ±Ù’Ø³ÙÙŠÙ‘ÙŒ (Kursiyyun)", C: "Ø¨ÙØ§Ø¨ÙŒ", D: "Ù†ÙØ§ÙÙØ°ÙØ©ÙŒ" }, answer: "B", discussion: "Kursiyyun = Kursi." },
            { id: 3, text: "Bahasa Arab 'Buku Tulis' adalah...", options: { A: "ÙƒÙØªÙØ§Ø¨ÙŒ", B: "ÙƒÙØ±Ù‘ÙØ§Ø³ÙØ©ÙŒ (Kurrasatun)", C: "ÙˆÙØ±ÙÙ‚ÙØ©ÙŒ", D: "Ø­ÙÙ‚ÙÙŠÙ’Ø¨ÙØ©ÙŒ" }, answer: "B", discussion: "Kurrasatun = Buku tulis." },
            { id: 4, text: "Bahasa Arab 'Tas' adalah...", options: { A: "Ø­ÙÙ‚ÙÙŠÙ’Ø¨ÙØ©ÙŒ (Haqibatun)", B: "Ù…ÙØ³Ù’Ø·ÙØ±ÙØ©ÙŒ", C: "Ù…ÙÙ…Ù’Ø³ÙØ­ÙØ©ÙŒ", D: "ÙƒÙØ±Ù‘ÙØ§Ø³ÙØ©ÙŒ" }, answer: "A", discussion: "Haqibatun = Tas." },
            { id: 5, text: "Bahasa Arab 'Pena' adalah...", options: { A: "ÙƒÙØªÙØ§Ø¨ÙŒ", B: "Ù‚ÙÙ„ÙÙ…ÙŒ (Qolamun)", C: "Ù…ÙØ±Ù’Ø³ÙÙ…ÙŒ", D: "Ù…ÙÙƒÙ’ØªÙØ¨ÙŒ" }, answer: "B", discussion: "Qolamun = Pena." },
            { id: 6, text: "Bahasa Arab 'Masjid Besar' adalah...", options: { A: "Ù…ÙØ³Ù’Ø¬ÙØ¯ÙŒ ØµÙØºÙÙŠÙ’Ø±ÙŒ", B: "Ù…ÙØ³Ù’Ø¬ÙØ¯ÙŒ ÙƒÙØ¨ÙÙŠÙ’Ø±ÙŒ (Masjidun kabirun)", C: "Ù…ÙØ³Ù’Ø¬ÙØ¯ÙŒ Ø¬ÙÙ…ÙÙŠÙ’Ù„ÙŒ", D: "Ù…ÙØ³Ù’Ø¬ÙØ¯ÙŒ ÙˆÙØ§Ø³ÙØ¹ÙŒ" }, answer: "B", discussion: "Kabirun = Besar." },
            { id: 7, text: "Bahasa Arab 'Kebun Luas' adalah...", options: { A: "Ø¨ÙØ³Ù’ØªÙØ§Ù†ÙŒ Ø¬ÙÙ…ÙÙŠÙ’Ù„ÙŒ", B: "Ø¨ÙØ³Ù’ØªÙØ§Ù†ÙŒ ÙˆÙØ§Ø³ÙØ¹ÙŒ (Bustanun wasi'un)", C: "Ø¨ÙØ³Ù’ØªÙØ§Ù†ÙŒ ØµÙØºÙÙŠÙ’Ø±ÙŒ", D: "Ø¨ÙØ³Ù’ØªÙØ§Ù†ÙŒ Ù†ÙØ¸ÙÙŠÙ’ÙÙŒ" }, answer: "B", discussion: "Wasi'un = Luas." },
            { id: 8, text: "Bahasa Arab 'Ikan Banyak' adalah...", options: { A: "Ø³ÙÙ…ÙÙƒÙŒ ÙƒÙØ¨ÙÙŠÙ’Ø±ÙŒ", B: "Ø³ÙÙ…ÙÙƒÙŒ ÙƒÙØ«ÙÙŠÙ’Ø±ÙŒ (Samakun katsirun)", C: "Ø³ÙÙ…ÙÙƒÙŒ ØµÙØºÙÙŠÙ’Ø±ÙŒ", D: "Ø³ÙÙ…ÙÙƒÙŒ Ø¬ÙÙ…ÙÙŠÙ’Ù„ÙŒ" }, answer: "B", discussion: "Katsirun = Banyak." },
            { id: 9, text: "Apa arti <span class='ar'>Ù…ÙØ³Ù’Ø¬ÙØ¯ÙŒ</span>?", options: { A: "Rumah", B: "Masjid", C: "Sekolah", D: "Kantor" }, answer: "B", discussion: "Masjid." },
            { id: 10, text: "Apa arti <span class='ar'>Ù…ÙØ¯Ù’Ø±ÙØ³ÙØ©ÙŒ</span>?", options: { A: "Rumah", B: "Sekolah", C: "Kelas", D: "Kantin" }, answer: "B", discussion: "Sekolah." },
            
            // Posisi
            { id: 11, text: "Di mana posisi papan tulis? <span class='ar'>Ø§Ù„Ø³Ù‘ÙØ¨Ù‘ÙÙˆÙ’Ø±ÙØ©Ù ... Ø§Ù„Ù’ÙÙØµÙ’Ù„Ù</span>", options: { A: "ÙˆÙØ±ÙØ§Ø¡Ù", B: "Ø£ÙÙ…ÙØ§Ù…Ù (Amama)", C: "ØªÙØ­Ù’ØªÙ", D: "Ø¹ÙÙ„ÙÙ‰" }, answer: "B", discussion: "Di depan kelas." },
            { id: 12, text: "Di mana posisi lampu? <span class='ar'>Ø§Ù„Ù’Ù…ÙØµÙ’Ø¨ÙØ§Ø­Ù ... Ø§Ù„Ù’Ù…ÙÙƒÙ’ØªÙØ¨Ù</span>", options: { A: "ØªÙØ­Ù’ØªÙ", B: "ÙÙÙˆÙ’Ù‚Ù (Fauqa)", C: "Ø¹ÙÙ„ÙÙ‰", D: "Ø£ÙÙ…ÙØ§Ù…Ù" }, answer: "B", discussion: "Di atas (menggantung)." },
            { id: 13, text: "Di mana posisi lantai? <span class='ar'>Ø§Ù„Ù’Ø¨ÙÙ„Ø§ÙØ·Ù ... Ø§Ù„Ù’Ù‚ÙØ¯ÙÙ…Ù</span>", options: { A: "ÙÙÙˆÙ’Ù‚Ù", B: "ØªÙØ­Ù’ØªÙ (Tahta)", C: "Ø£ÙÙ…ÙØ§Ù…Ù", D: "ÙˆÙØ±ÙØ§Ø¡Ù" }, answer: "B", discussion: "Di bawah kaki." },
            { id: 14, text: "Murid di dalam kelas. <span class='ar'>Ø§Ù„ØªÙ‘ÙÙ„Ù’Ù…ÙÙŠÙ’Ø°Ù ... Ø§Ù„Ù’ÙÙØµÙ’Ù„Ù</span>", options: { A: "Ø¹ÙÙ„ÙÙ‰", B: "ÙÙÙŠ (Fi)", C: "Ø£ÙÙ…ÙØ§Ù…Ù", D: "ÙˆÙØ±ÙØ§Ø¡Ù" }, answer: "B", discussion: "Di dalam." },
            { id: 15, text: "Guru di depan murid. <span class='ar'>Ø§Ù„Ù’Ù…ÙØ¯ÙØ±Ù‘ÙØ³Ù ... Ø§Ù„ØªÙ‘ÙÙ„Ù’Ù…ÙÙŠÙ’Ø°Ù</span>", options: { A: "ÙˆÙØ±ÙØ§Ø¡Ù", B: "Ø£ÙÙ…ÙØ§Ù…Ù (Amama)", C: "ØªÙØ­Ù’ØªÙ", D: "ÙÙÙˆÙ’Ù‚Ù" }, answer: "B", discussion: "Di depan." },
            { id: 16, text: "Tas di atas meja. <span class='ar'>Ø§Ù„Ù’Ø­ÙÙ‚ÙÙŠÙ’Ø¨ÙØ©Ù ... Ø§Ù„Ù’Ù…ÙÙƒÙ’ØªÙØ¨Ù</span>", options: { A: "ÙÙÙŠ", B: "Ø¹ÙÙ„ÙÙ‰ ('Ala)", C: "ØªÙØ­Ù’ØªÙ", D: "Ø£ÙÙ…ÙØ§Ù…Ù" }, answer: "B", discussion: "Di atas (menempel)." },
            { id: 17, text: "Rumah di samping masjid. <span class='ar'>Ø§Ù„Ù’Ø¨ÙÙŠÙ’ØªÙ ... Ø§Ù„Ù’Ù…ÙØ³Ù’Ø¬ÙØ¯Ù</span>", options: { A: "Ø£ÙÙ…ÙØ§Ù…Ù", B: "Ø¬ÙØ§Ù†ÙØ¨Ù (Janiba)", C: "ÙˆÙØ±ÙØ§Ø¡Ù", D: "ÙÙÙˆÙ’Ù‚Ù" }, answer: "B", discussion: "Di samping." },
            { id: 18, text: "Apa yang ada di belakang sekolah? <span class='ar'>Ù…ÙØ§Ø°ÙØ§ ... Ø§Ù„Ù’Ù…ÙØ¯Ù’Ø±ÙØ³ÙØ©ÙØŸ</span>", options: { A: "Ø£ÙÙ…ÙØ§Ù…Ù", B: "ÙˆÙØ±ÙØ§Ø¡Ù (Wara'a)", C: "ÙÙÙŠ", D: "Ø¹ÙÙ„ÙÙ‰" }, answer: "B", discussion: "Wara'a = Belakang." },
            { id: 19, text: "Apa yang ada di dalam tas? <span class='ar'>Ù…ÙØ§Ø°ÙØ§ ... Ø§Ù„Ù’Ø­ÙÙ‚ÙÙŠÙ’Ø¨ÙØ©ÙØŸ</span>", options: { A: "Ø¹ÙÙ„ÙÙ‰", B: "ÙÙÙŠ (Fi)", C: "ØªÙØ­Ù’ØªÙ", D: "Ø£ÙÙ…ÙØ§Ù…Ù" }, answer: "B", discussion: "Fi = Di dalam." },
            { id: 20, text: "Kucing di antara meja dan kursi. <span class='ar'>Ø§Ù„Ù’Ù‚ÙØ·Ù‘Ù ... Ø§Ù„Ù’Ù…ÙÙƒÙ’ØªÙØ¨Ù ÙˆÙ Ø§Ù„Ù’ÙƒÙØ±Ù’Ø³ÙÙŠÙ‘Ù</span>", options: { A: "Ø¨ÙÙŠÙ’Ù†Ù (Baina)", B: "ÙÙÙˆÙ’Ù‚Ù", C: "ØªÙØ­Ù’ØªÙ", D: "Ø¹ÙÙ„ÙÙ‰" }, answer: "A", discussion: "Baina = Di antara." },

            // Tata Bahasa & Terjemah
            { id: 21, text: "Terjemahkan: <span class='ar'>Ù‡ÙØ°ÙØ§ Ø¨ÙÙŠÙ’ØªÙŒ Ø¬ÙÙ…ÙÙŠÙ’Ù„ÙŒ</span>", options: { A: "Ini rumah besar", B: "Ini rumah indah", C: "Ini rumah bersih", D: "Ini rumah baru" }, answer: "B", discussion: "Jamilun = Indah." },
            { id: 22, text: "Terjemahkan: <span class='ar'>Ø°ÙÙ„ÙÙƒÙ Ø¨ÙØ³Ù’ØªÙØ§Ù†ÙŒ ÙˆÙØ§Ø³ÙØ¹ÙŒ</span>", options: { A: "Itu kebun luas", B: "Itu kebun kecil", C: "Itu kebun indah", D: "Itu sekolah luas" }, answer: "A", discussion: "Wasi'un = Luas." },
            { id: 23, text: "Terjemahkan: <span class='ar'>ØªÙÙ„Ù’ÙƒÙ Ù…ÙØ¯Ù’Ø±ÙØ³ÙØ©ÙŒ Ù†ÙØ¸ÙÙŠÙ’ÙÙØ©ÙŒ</span>", options: { A: "Itu sekolah besar", B: "Itu sekolah bersih", C: "Itu sekolah indah", D: "Itu sekolah baru" }, answer: "B", discussion: "Nazhifah = Bersih." },
            { id: 24, text: "Susun kata: <span class='ar'>Ø§Ù„Ù’Ù…ÙØ¯Ù’Ø±ÙØ³ÙØ©Ù - Ø£ÙÙ…ÙØ§Ù…Ù - Ø³ÙØ§Ø­ÙØ©ÙŒ</span>", options: { A: "Sahatun amama al-madrasati", B: "Amama al-madrasati sahatun", C: "Al-Madrasati sahatun amama", D: "Sahatun al-madrasati amama" }, answer: "B", discussion: "Di depan sekolah ada halaman." },
            { id: 25, text: "Susun kata: <span class='ar'>Ø¹ÙÙ„ÙÙ‰ - Ø§Ù„Ù’ÙƒÙØªÙØ§Ø¨Ù - Ø§Ù„Ù’Ù…ÙÙƒÙ’ØªÙØ¨Ù</span>", options: { A: "Al-Kitabu 'ala al-maktabi", B: "Al-Maktabi 'ala al-kitabu", C: "'Ala al-kitabu al-maktabi", D: "Al-Kitabu al-maktabi 'ala" }, answer: "A", discussion: "Buku itu di atas meja." },
            { id: 26, text: "Manakah kalimat yang benar?", options: { A: "Ø§Ù„Ù’Ù‚ÙÙ„ÙÙ…Ù ÙÙÙŠ Ø§Ù„Ù’Ø­ÙÙ‚ÙÙŠÙ’Ø¨ÙØ©Ù", B: "Ø§Ù„Ù’Ù‚ÙÙ„ÙÙ…ÙŒ ÙÙÙŠ Ø§Ù„Ù’Ø­ÙÙ‚ÙÙŠÙ’Ø¨ÙØ©Ù", C: "Ù‚ÙÙ„ÙÙ…Ù ÙÙÙŠ Ø§Ù„Ù’Ø­ÙÙ‚ÙÙŠÙ’Ø¨ÙØ©Ù", D: "Ø§Ù„Ù’Ù‚ÙÙ„ÙÙ…Ù ÙÙÙŠ Ø­ÙÙ‚ÙÙŠÙ’Ø¨ÙØ©Ù" }, answer: "A", discussion: "Al-Qolamu fi al-haqibati." },
            { id: 27, text: "Manakah kalimat yang salah?", options: { A: "Ø§Ù„Ù’Ø¨ÙÙŠÙ’ØªÙ ÙƒÙØ¨ÙÙŠØ±ÙŒ", B: "Ø§Ù„Ù’Ù…ÙØ¯Ù’Ø±ÙØ³ÙØ©Ù ÙˆÙØ§Ø³ÙØ¹ÙØ©ÙŒ", C: "Ø§Ù„Ù’Ø¨ÙÙŠÙ’ØªÙŒ ÙƒÙØ¨ÙÙŠØ±ÙŒ", D: "Ø§Ù„Ù’ÙÙØµÙ’Ù„Ù Ù†ÙØ¸ÙÙŠÙ’ÙÙŒ" }, answer: "C", discussion: "Al-Baitun (Salah, Al tidak boleh tanwin)." },
            { id: 28, text: "Ubah ke bentuk Nakirah: <span class='ar'>Ø§Ù„Ù’Ù…ÙØ³Ù’Ø¬ÙØ¯Ù</span>", options: { A: "Ù…ÙØ³Ù’Ø¬ÙØ¯ÙŒ (Masjidun)", B: "Ù…ÙØ³Ù’Ø¬ÙØ¯Ù", C: "Ø§Ù„Ù’Ù…ÙØ³Ù’Ø¬ÙØ¯ÙŒ", D: "Ù…ÙØ³Ù’Ø¬ÙØ¯Ù" }, answer: "A", discussion: "Hilangkan Al, beri Tanwin." },
            { id: 29, text: "Ubah ke bentuk Ma'rifat: <span class='ar'>Ù…ÙÙƒÙ’ØªÙØ¨ÙŒ</span>", options: { A: "Ø§Ù„Ù’Ù…ÙÙƒÙ’ØªÙØ¨ÙŒ", B: "Ø§Ù„Ù’Ù…ÙÙƒÙ’ØªÙØ¨Ù (Al-Maktabu)", C: "Ù…ÙÙƒÙ’ØªÙØ¨Ù", D: "Ø§Ù„Ù’Ù…ÙÙƒÙ’ØªÙØ¨Ù" }, answer: "B", discussion: "Tambah Al, hilangkan Tanwin." },
            { id: 30, text: "Apa arti <span class='ar'>Ù…ÙØ§Ø°ÙØ§</span> (Madza)?", options: { A: "Siapa", B: "Apa yang", C: "Di mana", D: "Kapan" }, answer: "B", discussion: "Apa yang (ada...)." },

            // Campuran & Pengayaan
            { id: 31, text: "Nama saya Faiq. <span class='ar'>... ÙÙØ§Ø¦ÙÙ‚ÙŒ</span>", options: { A: "Ø§ÙØ³Ù’Ù…ÙÙƒÙ", B: "Ø§ÙØ³Ù’Ù…ÙÙŠÙ’ (Ismi)", C: "Ù‡ÙØ°ÙØ§", D: "Ø°ÙÙ„ÙÙƒÙ" }, answer: "B", discussion: "Ismi = Nama saya." },
            { id: 32, text: "Ini sekolahku. <span class='ar'>Ù‡ÙØ°ÙÙ‡Ù ...</span>", options: { A: "Ù…ÙØ¯Ù’Ø±ÙØ³ÙØªÙÙŠ (Madrasati)", B: "Ù…ÙØ¯Ù’Ø±ÙØ³ÙØ©ÙŒ", C: "Ø¨ÙÙŠÙ’ØªÙÙŠ", D: "ÙÙØµÙ’Ù„ÙÙŠ" }, answer: "A", discussion: "Madrasati = Sekolahku." },
            { id: 33, text: "Itu kelasku. <span class='ar'>Ø°ÙÙ„ÙÙƒÙ ...</span>", options: { A: "ÙÙØµÙ’Ù„ÙŒ", B: "ÙÙØµÙ’Ù„ÙÙŠ (Fashli)", C: "Ù…ÙØ¯Ù’Ø±ÙØ³ÙØªÙÙŠ", D: "Ø¨ÙÙŠÙ’ØªÙÙŠ" }, answer: "B", discussion: "Fashli = Kelasku." },
            { id: 34, text: "<span class='ar'>Ù…ÙÙ†Ù’ Ù‡ÙØ°ÙØ§ØŸ</span> (Siapa ini?)", options: { A: "Ù‡ÙØ°ÙØ§ Ø¨ÙÙŠÙ’ØªÙŒ", B: "Ù‡ÙØ°ÙØ§ Ø£ÙØ­Ù’Ù…ÙØ¯Ù", C: "Ù‡ÙØ°ÙØ§ Ù…ÙÙƒÙ’ØªÙØ¨ÙŒ", D: "Ù‡ÙØ°ÙØ§ Ù‚ÙÙ„ÙÙ…ÙŒ" }, answer: "B", discussion: "Man (Siapa) untuk orang (Ahmad)." },
            { id: 35, text: "<span class='ar'>Ù…ÙØ§ Ù‡ÙØ°ÙØ§ØŸ</span> (Apa ini?)", options: { A: "Ù‡ÙØ°ÙØ§ Ø¹ÙÙ…ÙØ±Ù", B: "Ù‡ÙØ°ÙØ§ ÙƒÙØªÙØ§Ø¨ÙŒ", C: "Ù‡ÙØ°ÙØ§ ÙÙØ§Ø·ÙÙ…ÙØ©Ù", D: "Ù‡ÙØ°ÙØ§ Ø£ÙØ³Ù’ØªÙØ§Ø°ÙŒ" }, answer: "B", discussion: "Ma (Apa) untuk benda (Kitabun)." },
            { id: 36, text: "Bahasa Arab 'Di sana' adalah...", options: { A: "Ù‡ÙÙ†ÙØ§", B: "Ù‡ÙÙ†ÙØ§ÙƒÙ (Hunaka)", C: "Ø£ÙÙŠÙ’Ù†Ù", D: "Ù…ÙØªÙÙ‰" }, answer: "B", discussion: "Hunaka = Di sana." },
            { id: 37, text: "Bahasa Arab 'Di sini' adalah...", options: { A: "Ù‡ÙÙ†ÙØ§ (Huna)", B: "Ù‡ÙÙ†ÙØ§ÙƒÙ", C: "Ø£ÙÙŠÙ’Ù†Ù", D: "Ù…ÙÙ†Ù’" }, answer: "A", discussion: "Huna = Di sini." },
            { id: 38, text: "Kata tanya untuk menanyakan tempat adalah...", options: { A: "Ù…ÙÙ†Ù’", B: "Ø£ÙÙŠÙ’Ù†Ù (Aina)", C: "Ù…ÙØ§", D: "Ù‡ÙÙ„Ù’" }, answer: "B", discussion: "Aina = Di mana." },
            { id: 39, text: "Kata tanya untuk memastikan (Apakah) adalah...", options: { A: "Ù…ÙØ§", B: "Ù‡ÙÙ„Ù’ (Hal)", C: "Ù…ÙÙ†Ù’", D: "Ø£ÙÙŠÙ’Ù†Ù" }, answer: "B", discussion: "Hal = Apakah." },
            { id: 40, text: "Jawaban jika ditanya 'Hal' (Apakah) adalah...", options: { A: "Ahmad", B: "Na'am / La (Ya/Tidak)", C: "Baitun", D: "Fi" }, answer: "B", discussion: "Ya atau Tidak." }
        ];

        function App() {
            const [step, setStep] = useState('welcome');
            const [paket, setPaket] = useState('A');
            const [nama, setNama] = useState('');
            const [answers, setAnswers] = useState({});
            const [page, setPage] = useState(0);
            const [timeLeft, setTimeLeft] = useState(60 * 60); // 60 menit
            const [activeQuestions, setActiveQuestions] = useState([]);

            useEffect(() => {
                let timer;
                if (step === 'quiz' && timeLeft > 0) {
                    timer = setInterval(() => setTimeLeft(prev => prev - 1), 1000);
                } else if (timeLeft === 0 && step === 'quiz') {
                    setStep('result');
                }
                return () => clearInterval(timer);
            }, [step, timeLeft]);

            const startQuiz = () => {
                if (!nama.trim()) { alert("Silakan tulis nama antum!"); return; }
                setActiveQuestions(paket === 'A' ? paketA : paketB);
                setAnswers({});
                setPage(0);
                setTimeLeft(60 * 60);
                setStep('quiz');
                window.scrollTo(0, 0);
            };

            const calculateScore = () => {
                let correct = 0;
                activeQuestions.forEach(q => { if (answers[q.id] === q.answer) correct++; });
                return (correct / activeQuestions.length) * 100;
            };

            const formatTime = (s) => {
                const m = Math.floor(s / 60);
                const sec = s % 60;
                return `${m}:${sec < 10 ? '0' : ''}${sec}`;
            };

            // HALAMAN DEPAN
            if (step === 'welcome') {
                return (
                    <div className="min-h-screen flex items-center justify-center p-4 bg-teal-50">
                        <div className="glass-panel p-8 max-w-md w-full text-center bg-white/95">
                            <h2 className="text-xl font-bold text-teal-800">Ahlan wa Sahlan di</h2>
                            <h1 className="text-3xl font-black text-teal-600 mb-2">Bimbel Musafir One</h1>
                            <p className="text-sm text-gray-600 mb-6 font-bold">Latihan Bahasa Arab Kelas 4</p>
                            <input type="text" value={nama} onChange={e => setNama(e.target.value)} placeholder="Tulis Nama Antum..." className="w-full p-4 border-2 border-teal-300 rounded-xl mb-4 text-center font-bold text-lg focus:outline-none focus:border-teal-500" />
                            <div className="flex gap-2 mb-6">
                                <button onClick={() => setPaket('A')} className={`flex-1 p-3 rounded-xl border-2 font-bold transition-all ${paket === 'A' ? 'bg-teal-500 text-white shadow-md' : 'bg-white text-gray-500'}`}>Paket A</button>
                                <button onClick={() => setPaket('B')} className={`flex-1 p-3 rounded-xl border-2 font-bold transition-all ${paket === 'B' ? 'bg-green-500 text-white shadow-md' : 'bg-white text-gray-500'}`}>Paket B</button>
                            </div>
                            <button onClick={startQuiz} className="w-full bg-emerald-600 py-4 rounded-xl font-black text-xl border-b-4 border-emerald-800 btn-fun shadow-lg text-white">MULAI (Ø¥ÙØ¨Ù’Ø¯ÙØ£Ù’) ğŸš€</button>
                        </div>
                    </div>
                );
            }

            // HALAMAN QUIZ
            if (step === 'quiz') {
                const limit = 5;
                const start = page * limit;
                const currentQ = activeQuestions.slice(start, start + limit);
                const totalPages = Math.ceil(activeQuestions.length / limit);
                const isLastPage = start + limit >= activeQuestions.length;

                return (
                    <div className="max-w-3xl mx-auto p-4 pb-48">
                        {/* HEADER */}
                        <div className="fixed top-0 left-0 right-0 bg-white shadow-md z-50 border-b-4 border-teal-300 px-4 py-2 flex justify-between items-center h-16 safe-top">
                            <div><div className="text-[10px] font-bold text-teal-800">SISWA</div><div className="font-bold text-teal-700 truncate max-w-[150px]">{nama}</div></div>
                            <div className="font-mono font-bold bg-teal-100 text-teal-700 px-3 py-1 rounded-lg border border-teal-300">{formatTime(timeLeft)}</div>
                        </div>

                        {/* LIST SOAL */}
                        <div className="mt-20 space-y-6">
                            {currentQ.map((q, idx) => (
                                <div key={q.id} className="bg-white p-5 rounded-2xl shadow-sm border-2 border-teal-100 relative overflow-hidden">
                                    <div className="absolute top-0 left-0 bg-teal-500 text-white px-3 py-1 rounded-br-xl font-bold text-sm shadow">No. {start + idx + 1}</div>
                                    <div className="mt-8">
                                        <p className="font-bold text-gray-800 mb-6 text-lg leading-relaxed" dangerouslySetInnerHTML={{__html: q.text}}></p>
                                        <div className="grid grid-cols-1 gap-3">
                                            {Object.entries(q.options).map(([k, v]) => (
                                                <button key={k} onClick={() => setAnswers({...answers, [q.id]: k})} className={`text-left p-4 rounded-xl border-2 flex items-center gap-4 transition-all ${answers[q.id] === k ? 'bg-teal-100 border-teal-500 shadow-sm' : 'bg-white border-gray-200 hover:bg-gray-50 active:scale-[0.99]'}`}>
                                                    <span className={`w-8 h-8 flex items-center justify-center rounded-lg font-bold text-sm flex-shrink-0 transition-colors ${answers[q.id] === k ? 'bg-teal-500 text-white' : 'bg-gray-200 text-gray-500'}`}>{k}</span>
                                                    <span className="text-xl font-medium text-gray-700 font-sans">{v}</span>
                                                </button>
                                            ))}
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>

                        {/* NAVIGASI STATIS (BAWAH) */}
                        <div className="mt-12 mb-10 p-6 bg-teal-50 rounded-2xl border-2 border-teal-200 text-center">
                            <h3 className="text-sm font-bold text-teal-800 mb-4 uppercase tracking-widest">Navigasi Halaman</h3>
                            <div className="flex gap-4 justify-center">
                                <button disabled={page === 0} onClick={() => {setPage(p=>p-1);window.scrollTo(0,0)}} className="px-6 py-3 bg-white border-2 border-gray-300 rounded-xl font-bold text-gray-500 disabled:opacity-50">â† Sebelumnya</button>
                                {isLastPage ? 
                                    <button onClick={() => setStep('result')} className="px-8 py-3 bg-teal-600 text-white rounded-xl font-bold shadow-lg border-b-4 border-teal-800 btn-fun">SELESAI âœ…</button> :
                                    <button onClick={() => {setPage(p=>p+1);window.scrollTo(0,0)}} className="px-8 py-3 bg-green-500 text-white rounded-xl font-bold shadow-lg border-b-4 border-green-700 btn-fun">SELANJUTNYA â†’</button>
                                }
                            </div>
                        </div>

                        {/* NAVIGASI FLOATING */}
                        <div className="fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur border-t-2 border-gray-200 shadow-[0_-4px_15px_rgba(0,0,0,0.1)] p-3 z-50 flex items-center justify-between safe-bottom">
                            <button disabled={page === 0} onClick={() => {setPage(p=>p-1);window.scrollTo(0,0)}} className="px-5 py-3 bg-gray-100 rounded-xl font-bold text-gray-600 disabled:opacity-30 active:bg-gray-200">â†</button>
                            <span className="text-sm font-bold text-gray-400 bg-gray-100 px-3 py-1 rounded-full">Hal {page+1} / {totalPages}</span>
                            {isLastPage ? 
                                <button onClick={() => setStep('result')} className="px-6 py-3 bg-teal-600 text-white rounded-xl font-bold shadow btn-fun">Selesai</button> :
                                <button onClick={() => {setPage(p=>p+1);window.scrollTo(0,0)}} className="px-6 py-3 bg-green-500 text-white rounded-xl font-bold shadow btn-fun">Lanjut</button>
                            }
                        </div>
                    </div>
                );
            }

            // HALAMAN HASIL
            if (step === 'result') {
                const score = calculateScore();
                const wrongs = activeQuestions.filter(q => answers[q.id] !== q.answer);
                return (
                    <div className="min-h-screen bg-teal-50 p-6 pb-24">
                        <div className="max-w-2xl mx-auto bg-white p-8 rounded-3xl shadow-xl border-4 border-teal-300 text-center mb-8 relative overflow-hidden">
                            <div className="absolute top-0 left-0 w-full h-3 bg-gradient-to-r from-teal-400 via-green-400 to-emerald-400"></div>
                            <h2 className="text-gray-400 font-bold uppercase text-xs tracking-widest mt-2">Nilai Akhir</h2>
                            <h1 className="text-7xl font-black text-teal-600 my-4 tracking-tighter">{score.toFixed(0)}</h1>
                            <div className="inline-block bg-teal-100 text-teal-800 px-4 py-1 rounded-full font-bold text-xl mb-4">{nama}</div>
                            <p className="text-gray-500 font-medium">{score >= 80 ? "Mumtaz! (Luar Biasa) ğŸŒŸ" : score >= 60 ? "Jayyid! (Bagus) ğŸ‘" : "Ayo Belajar Lagi! ğŸ’ª"}</p>
                            <button onClick={() => window.location.reload()} className="mt-8 bg-green-700 text-white px-8 py-3 rounded-xl font-bold hover:bg-green-600 transition shadow-lg w-full">Ulangi Tes â†º</button>
                        </div>
                        
                        {wrongs.length > 0 && <h3 className="text-center font-bold text-red-500 mb-4 uppercase tracking-wider text-sm">Perbaikan Jawaban ({wrongs.length})</h3>}
                        
                        {wrongs.map((q, i) => (
                            <div key={i} className="bg-white p-5 rounded-2xl shadow-sm border border-red-100 mb-4">
                                <div className="flex gap-3 mb-3">
                                    <span className="bg-red-100 text-red-600 font-bold px-2 py-1 rounded text-xs h-fit">No. {activeQuestions.indexOf(q)+1}</span>
                                    <p className="font-bold text-gray-800 text-sm leading-snug" dangerouslySetInnerHTML={{__html: q.text}}></p>
                                </div>
                                <div className="text-sm space-y-2 ml-10">
                                    <div className="flex items-center gap-2 text-red-500 bg-red-50 p-2 rounded w-fit text-xs font-bold">âŒ {q.options[answers[q.id]] || "Kosong"}</div>
                                    <div className="flex items-center gap-2 text-green-600 bg-green-50 p-2 rounded w-fit text-xs font-bold">âœ… {q.options[q.answer]}</div>
                                    <div className="bg-blue-50 p-3 rounded-lg text-blue-800 text-xs border border-blue-100 leading-relaxed">ğŸ’¡ {q.discussion}</div>
                                </div>
                            </div>
                        ))}
                        {wrongs.length === 0 && <div className="text-center p-8 bg-green-100 rounded-3xl font-bold text-green-700 border-2 border-green-200 text-xl">ğŸ‰ MUMTAZ! <br/>Semua Benar!</div>}
                        
                        <div className="text-center mt-12 text-gray-400 font-bold text-xs font-mono">Bimbel Musafir One</div>
                    </div>
                );
            }
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>


